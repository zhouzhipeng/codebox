<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>中英翻译</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

    <link rel="stylesheet" href="/static/css/bootstrap.min.css">
    <script src="/static/js/jquery.min.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>

    <style>
        /*! CSS Used from: https://mdbcdn.b-cdn.net/wp-content/themes/mdbootstrap4/docs-app/css/compiled-4.20.0.min.css */
        *,*::before,*::after{box-sizing:border-box;}
        section{display:block;}
        label{display:inline-block;margin-bottom:.5rem;}
        textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit;}
        textarea{overflow:auto;resize:vertical;}
        .row{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-right:-15px;margin-left:-15px;}
        .col-xl-8{position:relative;width:100%;padding-right:15px;padding-left:15px;}
        @media (min-width:1200px){
            .col-xl-8{-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%;}
        }
        .form-control{display:block;width:100%;height:calc(1.5em + 0.75rem + 2px);padding:.375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:#495057;background-color:#fff;background-clip:padding-box;border:1px solid #ced4da;border-radius:.25rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out;}
        @media (prefers-reduced-motion:reduce){
            .form-control{transition:none;}
        }
        .form-control::-ms-expand{background-color:transparent;border:0;}
        .form-control:-moz-focusring{color:transparent;text-shadow:0 0 0 #495057;}
        .form-control:focus{color:#495057;background-color:#fff;border-color:#80bdff;outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,0.25);}
        .form-control::-webkit-input-placeholder{color:#6c757d;opacity:1;}
        .form-control::-moz-placeholder{color:#6c757d;opacity:1;}
        .form-control:-ms-input-placeholder{color:#6c757d;opacity:1;}
        .form-control::-ms-input-placeholder{color:#6c757d;opacity:1;}
        .form-control::placeholder{color:#6c757d;opacity:1;}
        .form-control:disabled{background-color:#e9ecef;opacity:1;}
        textarea.form-control{height:auto;}
        .form-group{margin-bottom:1rem;}
        .p-1{padding:.25rem!important;}
        @media print{
            *,*::before,*::after{text-shadow:none!important;box-shadow:none!important;}
        }
        .z-depth-1{-webkit-box-shadow:0 2px 5px 0 rgba(0,0,0,0.16),0 2px 10px 0 rgba(0,0,0,0.12)!important;box-shadow:0 2px 5px 0 rgba(0,0,0,0.16),0 2px 10px 0 rgba(0,0,0,0.12)!important;}
        :disabled{pointer-events:none!important;}
        /*! CSS Used from: Embedded */
        .shadow-textarea textarea.form-control::placeholder{font-weight:300;}
        .shadow-textarea textarea.form-control{padding-left:0.8rem;}
        /*! CSS Used from: Embedded */
        main textarea:focus{border:0;}
    </style>
</head>
<body>
<section class="p-1">

    <!-- Grid row -->
    <div class="row">

        <!-- Grid column -->
        <div class="col-xl-8">

            <div class="form-group shadow-textarea">
                <textarea style="height: 130px;font-size: 16px;" class="form-control z-depth-1" id="srcInput" rows="3" placeholder="输入中文或英文点击Translate进行翻译..."></textarea>
            </div>

        </div>
        <!-- Grid column -->

    </div>
    <!-- Grid row -->

</section>
<!--<textarea id="srcInput" style="-->
<!--    width: 90%;-->
<!--    height: 100px;-->
<!--    /* font-family: Arial, monospace; */-->
<!--"></textarea> <br>-->
<button type="button"  id="btnTranslate"  class="btn btn-success"  onclick="translateX(srcInput.value)">Translate</button>

<!--<input type="button" id="btnTranslate" onclick="translateX(srcInput.value)"  value="Translate"/>-->
<hr/>
<pre id="resultBlock"></pre>



<script type="text/javascript">
    async function translateX(s){
        btnTranslate.setAttribute("disabled","disabled")
        btnTranslate.innerText="Translating..."

        let data = new FormData();
        data.append( "s",s.trim());

        let result = await (await fetch("https://www.zhouzhipeng.com/py/translate",
            {
                method: "POST",
                body: data
            })).text()
        // resultArea.value= result.trim()
        resultBlock.innerText = result;

        btnTranslate.removeAttribute("disabled")
        btnTranslate.innerText="Translate"
    }
</script>

</body>
</html>