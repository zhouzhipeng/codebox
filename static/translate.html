<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>中英翻译</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

    <link rel="stylesheet" href="/static/css/bootstrap.min.css">
    <script src="/static/js/jquery.min.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>

</head>
<body>

<textarea id="srcInput" style="
    width: 90%;
    height: 100px;
    /* font-family: Arial, monospace; */
"></textarea> <br>
<button type="button"  id="btnTranslate"  class="btn btn-success"  onclick="translateX(srcInput.value)">Translate</button>

<!--<input type="button" id="btnTranslate" onclick="translateX(srcInput.value)"  value="Translate"/>-->
<hr/>
<pre id="resultBlock"></pre>



<script type="text/javascript">
    async function translateX(s){
        btnTranslate.setAttribute("disabled","disabled")
        btnTranslate.innerText="Translating..."

        let data = new FormData();
        data.append( "s",s.trim());

        let result = await (await fetch("https://www.zhouzhipeng.com/py/translate",
            {
                method: "POST",
                body: data
            })).text()
        // resultArea.value= result.trim()
        resultBlock.innerText = result;

        btnTranslate.removeAttribute("disabled")
        btnTranslate.innerText="Translate"
    }
</script>

</body>
</html>